import{a as mt,b as ht,c as ft,d as gt,e as St,f as At,g as yt,h as vt,i as It,j as Et,k as xt,l as wt}from"./chunk-7SFSRY3G.js";import{a as Ct,b as bt,c as Ft,d as Tt,e as Ot,f as kt}from"./chunk-T6GQX6WA.js";import{a as Ze}from"./chunk-XOK3EHEZ.js";import{a as rt,b as st,c as it,d as nt,e as ot,f as q,g as at,h as ct,i as ut,j as pt,k as lt,l as dt,m as Ge}from"./chunk-PCRS6PNV.js";import{a as He,b as qe,e as Ve}from"./chunk-5LLNNWGJ.js";import{a as O,b as B,c as k,d as Be}from"./chunk-2DFU5A5S.js";import{a as Ue,d as Bt,e as et,f as $e,i as Re,j as Me,k as Gt,l as De,m as Ne,n as Le,q as ze,r as f,s as z}from"./chunk-UO3TCGKE.js";import{a as L,b as ke,c as Pe,d as je}from"./chunk-RMY26TJC.js";import{$ as b,C as zt,D as N,F as v,G as pe,Ga as Ae,H as le,Ib as Q,Ic as Oe,J as X,Ja as ye,Jb as _,Kb as Ce,Sa as ve,W as de,X as me,Z as he,Zb as be,a as d,aa as K,b as y,bc as tt,ca as fe,da as ge,f as Lt,fa as w,gb as Ie,ia as H,ib as Ee,k as ne,ka as S,kb as xe,l as oe,la as M,m as ae,mb as we,n as ce,nb as Y,oc as Fe,p as C,sa as W,t as ue,u as p,va as J,wa as Se,zc as Te}from"./chunk-E7CHWM35.js";var Z="PERFORM_ACTION",$r="REFRESH",Qe="RESET",_e="ROLLBACK",tr="COMMIT",er="SWEEP",rr="TOGGLE_ACTION",Rr="SET_ACTIONS_ACTIVE",sr="JUMP_TO_STATE",ir="JUMP_TO_ACTION",ee="IMPORT_STATE",nr="LOCK_CHANGES",or="PAUSE_RECORDING",G=class{constructor(t,i){if(this.action=t,this.timestamp=i,this.type=Z,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Ht=class{constructor(){this.type=$r}},qt=class{constructor(t){this.timestamp=t,this.type=Qe}},Vt=class{constructor(t){this.timestamp=t,this.type=_e}},Zt=class{constructor(t){this.timestamp=t,this.type=tr}},Xt=class{constructor(){this.type=er}},Kt=class{constructor(t){this.id=t,this.type=rr}};var Wt=class{constructor(t){this.index=t,this.type=sr}},Jt=class{constructor(t){this.actionId=t,this.type=ir}},Yt=class{constructor(t){this.nextLiftedState=t,this.type=ee}},Qt=class{constructor(t){this.status=t,this.type=nr}},_t=class{constructor(t){this.status=t,this.type=or}};var $t=new H("@ngrx/store-devtools Options"),Xe=new H("@ngrx/store-devtools Initial Config");function ar(){return null}var Mr="NgRx Store DevTools";function Dr(e){let t={maxAge:!1,monitor:ar,actionSanitizer:void 0,stateSanitizer:void 0,name:Mr,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},i=typeof e=="function"?e():e,r=i.logOnly?{pause:!0,export:!0,test:!0}:!1,s=i.features||r||t.features;s.import===!0&&(s.import="custom");let n=Object.assign({},t,{features:s},i);if(n.maxAge&&n.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${n.maxAge}`);return n}function Ke(e,t){return e.filter(i=>t.indexOf(i)<0)}function cr(e){let{computedStates:t,currentStateIndex:i}=e;if(i>=t.length){let{state:s}=t[t.length-1];return s}let{state:r}=t[i];return r}function V(e){return new G(e,+Date.now())}function Nr(e,t){return Object.keys(t).reduce((i,r)=>{let s=Number(r);return i[s]=ur(e,t[s],s),i},{})}function ur(e,t,i){return y(d({},t),{action:e(t.action,i)})}function Lr(e,t){return t.map((i,r)=>({state:pr(e,i.state,r),error:i.error}))}function pr(e,t,i){return e(t,i)}function lr(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function zr(e,t,i,r){let s=[],n={},o=[];return e.stagedActionIds.forEach((a,u)=>{let m=e.actionsById[a];m&&(u&&re(e.computedStates[u],m,t,i,r)||(n[a]=m,s.push(a),o.push(e.computedStates[u])))}),y(d({},e),{stagedActionIds:s,actionsById:n,computedStates:o})}function re(e,t,i,r,s){let n=i&&!i(e,t.action),o=r&&!t.action.type.match(r.map(u=>We(u)).join("|")),a=s&&t.action.type.match(s.map(u=>We(u)).join("|"));return n||o||a}function We(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dr(e){return{ngZone:e?M(Y):null,connectInZone:e}}var Rt=(()=>{let t=class t extends et{};t.\u0275fac=(()=>{let r;return function(n){return(r||(r=Ae(t)))(n||t)}})(),t.\u0275prov=w({token:t,factory:t.\u0275fac});let e=t;return e})(),Pt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},te=new H("@ngrx/store-devtools Redux Devtools Extension"),mr=(()=>{let t=class t{constructor(r,s,n){this.config=s,this.dispatcher=n,this.zoneConfig=dr(this.config.connectInZone),this.devtoolsExtension=r,this.createActionStreams()}notify(r,s){if(this.devtoolsExtension)if(r.type===Z){if(s.isLocked||s.isPaused)return;let n=cr(s);if(lr(this.config)&&re(n,r,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?pr(this.config.stateSanitizer,n,s.currentStateIndex):n,a=this.config.actionSanitizer?ur(this.config.actionSanitizer,r,s.nextActionId):r;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,o))}else{let n=y(d({},s),{stagedActionIds:s.stagedActionIds,actionsById:this.config.actionSanitizer?Nr(this.config.actionSanitizer,s.actionsById):s.actionsById,computedStates:this.config.stateSanitizer?Lr(this.config.stateSanitizer,s.computedStates):s.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,n,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Lt(r=>{let s=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=s,s.init(),s.subscribe(n=>r.next(n)),s.unsubscribe}):ae}createActionStreams(){let r=this.createChangesObservable().pipe(me()),s=r.pipe(N(l=>l.type===Pt.START)),n=r.pipe(N(l=>l.type===Pt.STOP)),o=r.pipe(N(l=>l.type===Pt.DISPATCH),p(l=>this.unwrapAction(l.payload)),pe(l=>l.type===ee?this.dispatcher.pipe(N(c=>c.type===Gt),ue(1e3),le(1e3),p(()=>l),v(()=>C(l)),X(1)):C(l))),u=r.pipe(N(l=>l.type===Pt.ACTION),p(l=>this.unwrapAction(l.payload))).pipe(K(n)),m=o.pipe(K(n));this.start$=s.pipe(K(n)),this.actions$=this.start$.pipe(b(()=>u)),this.liftedActions$=this.start$.pipe(b(()=>m))}unwrapAction(r){return typeof r=="string"?(0,eval)(`(${r})`):r}getExtensionConfig(r){let s={name:r.name,features:r.features,serialize:r.serialize,autoPause:r.autoPause??!1,trace:r.trace??!1,traceLimit:r.traceLimit??75};return r.maxAge!==!1&&(s.maxAge=r.maxAge),s}sendToReduxDevtools(r){try{r()}catch(s){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",s)}}};t.\u0275fac=function(s){return new(s||t)(S(te),S($t),S(Rt))},t.\u0275prov=w({token:t,factory:t.\u0275fac});let e=t;return e})(),Ut={type:Bt},Br="@ngrx/store-devtools/recompute",Gr={type:Br};function hr(e,t,i,r,s){if(r)return{state:i,error:"Interrupted by an error up the chain"};let n=i,o;try{n=e(i,t)}catch(a){o=a.toString(),s.handleError(a)}return{state:n,error:o}}function jt(e,t,i,r,s,n,o,a,u){if(t>=e.length&&e.length===n.length)return e;let m=e.slice(0,t),l=n.length-(u?1:0);for(let c=t;c<l;c++){let I=n[c],T=s[I].action,g=m[c-1],h=g?g.state:r,j=g?g.error:void 0,U=o.indexOf(I)>-1?g:hr(i,T,h,j,a);m.push(U)}return u&&m.push(e[e.length-1]),m}function Hr(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:V(Ut)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function qr(e,t,i,r,s={}){return n=>(o,a)=>{let{monitorState:u,actionsById:m,nextActionId:l,stagedActionIds:c,skippedActionIds:I,committedState:T,currentStateIndex:g,computedStates:h,isLocked:j,isPaused:F}=o||t;o||(m=Object.create(m));function U(x){let E=x,R=c.slice(1,E+1);for(let P=0;P<R.length;P++)if(h[P+1].error){E=P,R=c.slice(1,E+1);break}else delete m[R[P]];I=I.filter(P=>R.indexOf(P)===-1),c=[0,...c.slice(E+1)],T=h[E].state,h=h.slice(E),g=g>E?g-E:0}function D(){m={0:V(Ut)},l=1,c=[0],I=[],T=h[g].state,g=0,h=[]}let A=0;switch(a.type){case nr:{j=a.status,A=1/0;break}case or:{F=a.status,F?(c=[...c,l],m[l]=new G({type:"@ngrx/devtools/pause"},+Date.now()),l++,A=c.length-1,h=h.concat(h[h.length-1]),g===c.length-2&&g++,A=1/0):D();break}case Qe:{m={0:V(Ut)},l=1,c=[0],I=[],T=e,g=0,h=[];break}case tr:{D();break}case _e:{m={0:V(Ut)},l=1,c=[0],I=[],g=0,h=[];break}case rr:{let{id:x}=a;I.indexOf(x)===-1?I=[x,...I]:I=I.filter(R=>R!==x),A=c.indexOf(x);break}case Rr:{let{start:x,end:E,active:R}=a,P=[];for(let Nt=x;Nt<E;Nt++)P.push(Nt);R?I=Ke(I,P):I=[...I,...P],A=c.indexOf(x);break}case sr:{g=a.index,A=1/0;break}case ir:{let x=c.indexOf(a.actionId);x!==-1&&(g=x),A=1/0;break}case er:{c=Ke(c,I),I=[],g=Math.min(g,c.length-1);break}case Z:{if(j)return o||t;if(F||o&&re(o.computedStates[g],a,s.predicate,s.actionsSafelist,s.actionsBlocklist)){let E=h[h.length-1];h=[...h.slice(0,-1),hr(n,a.action,E.state,E.error,i)],A=1/0;break}s.maxAge&&c.length===s.maxAge&&U(1),g===c.length-1&&g++;let x=l++;m[x]=a,c=[...c,x],A=c.length-1;break}case ee:{({monitorState:u,actionsById:m,nextActionId:l,stagedActionIds:c,skippedActionIds:I,committedState:T,currentStateIndex:g,computedStates:h,isLocked:j,isPaused:F}=a.nextLiftedState);break}case Bt:{A=0,s.maxAge&&c.length>s.maxAge&&(h=jt(h,A,n,T,m,c,I,i,F),U(c.length-s.maxAge),A=1/0);break}case Gt:{if(h.filter(E=>E.error).length>0)A=0,s.maxAge&&c.length>s.maxAge&&(h=jt(h,A,n,T,m,c,I,i,F),U(c.length-s.maxAge),A=1/0);else{if(!F&&!j){g===c.length-1&&g++;let E=l++;m[E]=new G(a,+Date.now()),c=[...c,E],A=c.length-1,h=jt(h,A,n,T,m,c,I,i,F)}h=h.map(E=>y(d({},E),{state:n(E.state,Gr)})),g=c.length-1,s.maxAge&&c.length>s.maxAge&&U(c.length-s.maxAge),A=1/0}break}default:{A=1/0;break}}return h=jt(h,A,n,T,m,c,I,i,F),u=r(u,a),{monitorState:u,actionsById:m,nextActionId:l,stagedActionIds:c,skippedActionIds:I,committedState:T,currentStateIndex:g,computedStates:h,isLocked:j,isPaused:F}}}var Je=(()=>{let t=class t{constructor(r,s,n,o,a,u,m,l){let c=Hr(m,l.monitor),I=qr(m,c,u,l.monitor,l),T=zt(zt(s.asObservable().pipe(he(1)),o.actions$).pipe(p(V)),r,o.liftedActions$).pipe(ce(oe)),g=n.pipe(p(I)),h=dr(l.connectInZone),j=new ne(1);this.liftedStateSubscription=T.pipe(fe(g),Ye(h),de(({state:D},[A,x])=>{let E=x(D,A);return A.type!==Z&&lr(l)&&(E=zr(E,l.predicate,l.actionsSafelist,l.actionsBlocklist)),o.notify(A,E),{state:E,action:A}},{state:c,action:null})).subscribe(({state:D,action:A})=>{if(j.next(D),A.type===Z){let x=A.action;a.next(x)}}),this.extensionStartSubscription=o.start$.pipe(Ye(h)).subscribe(()=>{this.refresh()});let F=j.asObservable(),U=F.pipe(p(cr));Object.defineProperty(U,"state",{value:Ue(U,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=r,this.liftedState=F,this.state=U}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(r){this.dispatcher.next(r)}next(r){this.dispatcher.next(r)}error(r){}complete(){}performAction(r){this.dispatch(new G(r,+Date.now()))}refresh(){this.dispatch(new Ht)}reset(){this.dispatch(new qt(+Date.now()))}rollback(){this.dispatch(new Vt(+Date.now()))}commit(){this.dispatch(new Zt(+Date.now()))}sweep(){this.dispatch(new Xt)}toggleAction(r){this.dispatch(new Kt(r))}jumpToAction(r){this.dispatch(new Jt(r))}jumpToState(r){this.dispatch(new Wt(r))}importState(r){this.dispatch(new Yt(r))}lockChanges(r){this.dispatch(new Qt(r))}pauseRecording(r){this.dispatch(new _t(r))}};t.\u0275fac=function(s){return new(s||t)(S(Rt),S(et),S(Re),S(mr),S(De),S(ye),S($e),S($t))},t.\u0275prov=w({token:t,factory:t.\u0275fac});let e=t;return e})();function Ye({ngZone:e,connectInZone:t}){return i=>t?new Lt(r=>i.subscribe({next:s=>e.run(()=>r.next(s)),error:s=>e.run(()=>r.error(s)),complete:()=>e.run(()=>r.complete())})):i}var Vr=new H("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Zr(e,t){return!!e||t.monitor!==ar}function Xr(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function fr(e={}){return J([mr,Rt,Je,{provide:Xe,useValue:e},{provide:Vr,deps:[te,$t],useFactory:Zr},{provide:te,useFactory:Xr},{provide:$t,deps:[Xe],useFactory:Dr},{provide:Ne,deps:[Je],useFactory:Kr},{provide:Me,useExisting:Rt}])}function Kr(e){return e.state}var Jr={user:null,error:null},gr=z(Jr,f(rt,e=>d({},e)),f(st,e=>d({},e)),f(it,(e,{error:t})=>y(d({},e),{error:t})),f(nt,e=>d({},e)),f(ot,e=>d({},e)),f(q,(e,{error:t})=>y(d({},e),{error:t})),f(at,e=>d({},e)),f(ct,e=>d({},e)),f(ut,(e,{error:t})=>y(d({},e),{error:t})),f(pt,e=>d({},e)),f(lt,(e,{user:t})=>y(d({},e),{user:t})),f(dt,(e,{error:t})=>y(d({},e),{error:t})));var Qr={posts:[],ads:null,error:null},Sr=z(Qr,f(mt,e=>d({},e)),f(ht,(e,{posts:t})=>y(d({},e),{posts:t})),f(ft,(e,{error:t})=>y(d({},e),{error:t})),f(gt,e=>d({},e)),f(St,(e,{ads:t})=>y(d({},e),{ads:t})),f(At,(e,{error:t})=>y(d({},e),{error:t})),f(yt,e=>d({},e)),f(vt,(e,{posts:t})=>y(d({},e),{posts:t})),f(It,(e,{error:t})=>y(d({},e),{error:t})),f(Et,e=>d({},e)),f(xt,(e,{posts:t})=>y(d({},e),{posts:t})),f(wt,(e,{error:t})=>y(d({},e),{error:t})));var ts={settings:null,error:null},Ar=z(ts,f(Ct,e=>d({},e)),f(bt,(e,{settings:t})=>y(d({},e),{settings:t})),f(Ft,(e,{error:t})=>y(d({},e),{error:t})),f(Tt,e=>d({},e)),f(Ot,(e,{settings:t})=>y(d({},e),{settings:t})),f(kt,(e,{error:t})=>y(d({},e),{error:t})));var yr={user:gr,feed:Sr,settings:Ar},vr=Fe()?[]:[];var Er=(()=>{let t=class t{constructor(r){this.httpClient=r,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-project-mock-server/"}fetchPosts(r){return this.httpClient.get(`${this.url}social-post`).pipe(p(s=>s),v(s=>{throw new Error(s.message)}))}fetchAds(){return this.httpClient.get("https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-feed-user-mock-backend/ad").pipe(p(r=>r.length>0?r[0]:{}),v(r=>{throw new Error(r.message)}))}likePost(r){return this.httpClient.get(`${this.url}social-post`).pipe(p(s=>s.map(n=>n.id===r?y(d({},n),{likes:n.likes+1}):n)),v(s=>{throw new Error(s.message)}))}addComment(r,s,n){return this.httpClient.get(`${this.url}social-post`).pipe(p(o=>o.map(a=>{let u={content:s,userId:n,createdAt:new Date().toISOString(),postId:r,id:`${a.comments.length+1}`};return a.id===r?y(d({},a),{comments:[...a.comments,u]}):a})),v(o=>{throw new Error(o.message)}))}};t.\u0275fac=function(s){return new(s||t)(S(L))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var wr=(()=>{let t=class t{constructor(r,s,n){this.actions$=r,this.feedService=s,this.snackbarService=n,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-project-mock-server/",this.fetchPosts$=O(()=>this.actions$.pipe(k(mt),p(o=>o.userId),b(o=>this.feedService.fetchPosts(o).pipe(p(a=>ht({posts:a})),v(a=>{let u={message:a.message,status:500,url:`${this.url}social-post`};return this.snackbarService.openSnackBar(u.message),C(ft({error:u}))}))))),this.fetchAds$=O(()=>this.actions$.pipe(k(gt),b(()=>this.feedService.fetchAds().pipe(p(o=>St({ads:o})),v(o=>{let a={message:o.message,status:500,url:"http://localhost:3000/ads"};return this.snackbarService.openSnackBar(a.message),C(At({error:a}))}))))),this.likePost$=O(()=>this.actions$.pipe(k(yt),p(o=>o.postId),b(o=>this.feedService.likePost(o).pipe(p(a=>vt({posts:a})),v(a=>{let u={message:a.message,status:500,url:`${this.url}social-post`};return this.snackbarService.openSnackBar(u.message),C(It({error:u}))}))))),this.addCommentPost$=O(()=>this.actions$.pipe(k(Et),p(o=>o),b(({postId:o,content:a,userId:u})=>this.feedService.addComment(o,a,u).pipe(p(m=>xt({posts:m})),v(m=>{let l={message:m.message,status:500,url:`${this.url}social-post`};return this.snackbarService.openSnackBar(l.message),C(wt({error:l}))})))))}};t.\u0275fac=function(s){return new(s||t)(S(B),S(Er),S(Ge))},t.\u0275prov=w({token:t,factory:t.\u0275fac});let e=t;return e})();var Cr=(()=>{let t=class t{constructor(r){this.httpClient=r,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-feed-user-mock-backend/"}getSettings(){return this.httpClient.get(`${this.url}settings`).pipe(p(r=>r[0]),v(r=>{throw new Error(r.message)}))}updateSettings(r){return this.httpClient.get(`${this.url}settings`).pipe(p(()=>r),v(s=>{throw new Error(s.message)}))}};t.\u0275fac=function(s){return new(s||t)(S(L))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var br=(()=>{let t=class t{constructor(r,s){this.actions$=r,this.settingsService=s,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-feed-user-mock-backend/",this.getSettings$=O(()=>this.actions$.pipe(k(Ct),b(()=>this.settingsService.getSettings().pipe(p(n=>bt({settings:n})),v(n=>{let o={message:n.message,status:500,url:`${this.url}settings`};return C(Ft({error:o}))}))))),this.updateSettings$=O(()=>this.actions$.pipe(k(Tt),b(({settings:n})=>this.settingsService.updateSettings(n).pipe(p(()=>Ot({settings:n})),v(o=>{let a={message:o.message,status:500,url:`${this.url}settings`};return C(kt({error:a}))})))))}};t.\u0275fac=function(s){return new(s||t)(S(B),S(Cr))},t.\u0275prov=w({token:t,factory:t.\u0275fac});let e=t;return e})();var Mt=(()=>{let t=class t{constructor(){}setItem(r,s){localStorage.setItem(r,s)}getItem(r){return localStorage.getItem(r)}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var se=function(e){return e[e.user=0]="user",e[e.admin=1]="admin",e}(se||{});var Fr=(()=>{let t=class t{constructor(r){this.httpService=r,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-project-mock-server/"}createUser(r){return this.httpService.post(`${this.url}create-user`,r).pipe(p(s=>s),v(s=>{throw new Error(s.message)}))}validateEmail(r){return this.httpService.post(`${this.url}validate-email`,{email:r}).pipe(p(s=>!!s),v(s=>{throw new Error(s.message)}))}updatePassword(r){return this.httpService.post(`${this.url}update-password`,{password:r}).pipe(p(s=>s),v(s=>{throw new Error(s.message)}))}login(r,s){return this.httpService.post(`${this.url}login-user`,{username:r,password:s}).pipe(p(()=>({id:"1",email:"test@test.com",password:"a9yhd7s1",firstName:"jon",lastName:"doe",birthDate:new Date("1991-01-01"),username:"testUser",notificationPreference:!1,role:se.user,token:"iuhasd87tasiunds87g"})),v(n=>{throw new Error(n.message)}))}};t.\u0275fac=function(s){return new(s||t)(S(L))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Tr=(()=>{let t=class t{constructor(r,s,n){this.actions$=r,this.localStorageService=s,this.userService=n,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-project-mock-server/",this.createUser$=O(()=>this.actions$.pipe(k(rt),p(o=>o.userData),b(o=>this.userService.createUser(o).pipe(p(()=>st()),v(a=>{let u={message:a.message,status:500,url:`${this.url}create-user`};return C(it({error:u}))}))))),this.validateEmail$=O(()=>this.actions$.pipe(k(nt),p(o=>o.email),b(o=>this.userService.validateEmail(o).pipe(p(a=>{if(a)return ot();let u={message:"Invalid email",status:400,url:`${this.url}validate-email`};return q({error:u})}),v(a=>{let u={message:a.message,status:500,url:`${this.url}validate-email`};return C(q({error:u}))}))))),this.updatePassword$=O(()=>this.actions$.pipe(k(at),p(o=>o.password),b(o=>this.userService.updatePassword(o).pipe(p(()=>ct()),v(a=>{let u={message:a.message,status:500,url:`${this.url}update-password`};return C(ut({error:u}))}))))),this.loginUser$=O(()=>this.actions$.pipe(k(pt),p(o=>o),b(({username:o,password:a})=>this.userService.login(o,a).pipe(p(u=>(this.localStorageService.setItem("loginToken",u.token),lt({user:u}))),v(u=>{let m={message:u.message,status:500,url:`${this.url}login-user`};return C(dt({error:m}))})))))}};t.\u0275fac=function(s){return new(s||t)(S(B),S(Mt),S(Fr))},t.\u0275prov=w({token:t,factory:t.\u0275fac});let e=t;return e})();var ns="@",os=(()=>{let t=class t{constructor(r,s,n,o,a){this.doc=r,this.delegate=s,this.zone=n,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=M(Ee,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-KHJZPG2Z.js")).catch(s=>{throw new ge(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:n})=>{this._engine=s(this.animationType,this.doc,this.scheduler);let o=new n(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(r,s){let n=this.delegate.createRenderer(r,s);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let o=new ie(n);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let u=a.createRenderer(r,s);o.use(u)}).catch(a=>{o.use(n)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(s){Ie()},t.\u0275prov=w({token:t,factory:t.\u0275fac});let e=t;return e})(),ie=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,r,s){this.delegate.insertBefore(t,i,r,s)}removeChild(t,i,r){this.delegate.removeChild(t,i,r)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,r,s){this.delegate.setAttribute(t,i,r,s)}removeAttribute(t,i,r){this.delegate.removeAttribute(t,i,r)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,r,s){this.delegate.setStyle(t,i,r,s)}removeStyle(t,i,r){this.delegate.removeStyle(t,i,r)}setProperty(t,i,r){this.shouldReplay(i)&&this.replay.push(s=>s.setProperty(t,i,r)),this.delegate.setProperty(t,i,r)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,r){return this.shouldReplay(i)&&this.replay.push(s=>s.listen(t,i,r)),this.delegate.listen(t,i,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(ns)}};function Or(e="animations"){return we("NgAsyncAnimations"),J([{provide:xe,useFactory:(t,i,r)=>new os(t,i,r,e),deps:[Te,Pe,Y]},{provide:ve,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Dt=(()=>{let t=class t{constructor(){this.title="social-face-project"}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=W({type:t,selectors:[["app-root"]],standalone:!0,features:[tt],decls:2,vars:0,template:function(s,n){s&1&&(Q(0,"main"),Ce(1,"router-outlet"),_())},dependencies:[Oe,He]});let e=t;return e})();var kr=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=W({type:t,selectors:[["app-page-not-found"]],standalone:!0,features:[tt],decls:2,vars:0,template:function(s,n){s&1&&(Q(0,"h2"),be(1,"Page Not Found"),_())}});let e=t;return e})();var Pr=()=>{let e=M(Le),t=M(qe),i=M(Mt);return e.select(Ze).pipe(X(1),p(r=>i.getItem("loginToken")||r&&r.token!==""?!0:(t.navigate(["/login"]),!1)))};var jr=[{path:"feed",canActivate:[Pr],loadComponent:()=>import("./chunk-OTAFFRVR.js").then(e=>e.FeedComponent),loadChildren:()=>[{path:"",pathMatch:"full",redirectTo:"posts"},{path:"posts",pathMatch:"full",loadComponent:()=>import("./chunk-K3GF5YQB.js").then(e=>e.PostsComponent)},{path:"settings",pathMatch:"full",loadComponent:()=>import("./chunk-UJI2SJAV.js").then(e=>e.SettingsComponent)}]},{path:"",component:Dt,loadChildren:()=>[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",pathMatch:"full",loadComponent:()=>import("./chunk-YXOERIJH.js").then(e=>e.LoginFormComponent)},{path:"register-user",pathMatch:"full",loadComponent:()=>import("./chunk-BWRJREGO.js").then(e=>e.CreateUserComponent)},{path:"forgot-password",pathMatch:"full",loadComponent:()=>import("./chunk-BKJWVSGZ.js").then(e=>e.ForgotPasswordComponent)}]},{path:"**",component:kr}];var Ur={providers:[Ve(jr),Se(ke),Or(),ze(yr,{metaReducers:vr}),Be(Tr,wr,br),fr({maxAge:25,logOnly:!0,autoPause:!0,trace:!1,traceLimit:75,connectInZone:!0})]};je(Dt,Ur).catch(e=>console.error(e));
