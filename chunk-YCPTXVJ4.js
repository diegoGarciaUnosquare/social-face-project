import{a as X}from"./chunk-KNEBTT2U.js";import{a as T,h as I,i as D,j as G,o as P,p as x}from"./chunk-KBMGLM7F.js";import{A as K,B as Q,N as W,a as k,b as S,c as N,d as $,e as q,f as U,g as j,h as A,i as B,k as O,v as R,x as z,y as H,z as J}from"./chunk-T5SYB2EV.js";import{i as L}from"./chunk-4QQ7GXC4.js";import"./chunk-JGYM447R.js";import{$b as v,Aa as V,Ba as w,Cb as f,Ec as M,Gb as r,Hb as o,Hc as F,Ib as _,Ka as b,Kb as y,Nb as h,Pb as u,Xb as l,cb as d,db as E,pb as C,qa as p,s as g,vb as s,xb as c}from"./chunk-7USMCEWK.js";var Z=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=p({type:t,selectors:[["app-update-password-form"]],standalone:!0,features:[v],decls:2,vars:0,template:function(i,m){i&1&&(r(0,"p"),l(1,"update-password-form works!"),o())}});let e=t;return e})();function te(e,t){e&1&&_(0,"mat-spinner",1)}function ie(e,t){e&1&&(r(0,"mat-error",4),l(1,"Email is required"),o())}function ae(e,t){if(e&1&&s(0,ie,2,0,"mat-error",6),e&2){let n=u(2);c("ngIf",n.validateEmailField.errors.required)}}function oe(e,t){e&1&&(r(0,"mat-error",4),l(1,"Email is invalid"),o())}function re(e,t){if(e&1&&s(0,oe,2,0,"mat-error",6),e&2){let n=u(2);c("ngIf",n.validateEmailField.errors.pattern)}}function ne(e,t){if(e&1&&(r(0,"div",2)(1,"mat-form-field")(2,"mat-label"),l(3,"Email"),o(),_(4,"input",3),s(5,ae,1,1,"mat-error",4)(6,re,1,1,"mat-error",4),o()(),r(7,"button",5),l(8,"Validate Email"),o()),e&2){let n=u();d(4),c("formControl",n.validateEmailField),d(),f(5,n.validateEmailField.hasError("required")?5:-1),d(),f(6,n.validateEmailField.hasError("pattern")?6:-1),d(),c("disabled",!n.formGroup.valid)}}var ee=(()=>{let t=class t{constructor(a,i,m){this.store$=a,this.actions$=i,this.snackService=m,this.emailValidated=new b,this.isLoading=C(!1),this.validateEmailField=new U("",[S.required,S.email]),this.formGroup=new q({validateEmailField:this.validateEmailField})}ngOnInit(){this.handleValidateEmailSuccess().subscribe(),this.handleValidateEmailError().subscribe()}onSubmit(){this.formGroup.valid&&(this.isLoading.update(()=>!0),this.store$.dispatch(I({email:this.validateEmailField.value})))}handleValidateEmailSuccess(){return this.actions$.pipe(x(D),g(()=>{this.isLoading.update(()=>!1),this.emailValidated.emit(!0)}))}handleValidateEmailError(){return this.actions$.pipe(x(G),g(a=>{if(this.isLoading.update(()=>!1),a){let{error:i}=a;this.snackService.openSnackBar(i.message)}}))}};t.\u0275fac=function(i){return new(i||t)(E(T),E(P),E(X))},t.\u0275cmp=p({type:t,selectors:[["app-validate-email-form"]],outputs:{emailValidated:"emailValidated"},standalone:!0,features:[v],decls:3,vars:2,consts:[[1,"form",3,"ngSubmit","formGroup"],["data-spinner",""],[1,"form-group"],["matInput","","placeholder","Enter your email","data-validate-email-field","",3,"formControl"],["data-validate-email-error-field",""],["mat-flat-button","","color","primary","type","submit","data-validate-email-btn","",3,"disabled"],["data-validate-email-error-field","",4,"ngIf"]],template:function(i,m){i&1&&(r(0,"form",0),h("ngSubmit",function(){return m.onSubmit()}),s(1,te,1,0,"mat-spinner",1)(2,ne,9,4),o()),i&2&&(c("formGroup",m.formGroup),d(),f(1,m.isLoading()?1:2))},dependencies:[O,j,k,N,$,A,B,F,M,W,J,z,H,K,R,Q]});let e=t;return e})();function me(e,t){e&1&&_(0,"app-update-password-form")}function le(e,t){if(e&1){let n=y();r(0,"app-validate-email-form",5),h("emailValidated",function(i){V(n);let m=u();return w(m.onEmailValidated(i))}),o()}}var Ne=(()=>{let t=class t{constructor(){this.showUpdatePasswordForm=C(!1)}onEmailValidated(a){a&&this.showUpdatePasswordForm.update(()=>!0)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=p({type:t,selectors:[["app-forgot-password"]],standalone:!0,features:[v],decls:8,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-6","mx-auto"],[1,"card","card-body"],[1,"title"],[3,"emailValidated"]],template:function(i,m){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),l(5,"Forgot Password"),o(),s(6,me,1,0,"app-update-password-form")(7,le,1,0),o()()()()),i&2&&(d(6),f(6,m.showUpdatePasswordForm()?6:7))},dependencies:[Z,ee,L,F]});let e=t;return e})();export{Ne as ForgotPasswordComponent};
