import{a as X}from"./chunk-UI7YU45K.js";import{a as M,h as T,i as D,j as G,o as I,p as w}from"./chunk-KBMGLM7F.js";import{A as K,B as Q,L as W,a as L,b as k,c as N,d as $,e as U,f as j,g as q,h as A,i as B,k as O,v as R,x as z,y as H,z as J}from"./chunk-L72RMU5U.js";import{i as P}from"./chunk-4QQ7GXC4.js";import"./chunk-JGYM447R.js";import{$b as c,Aa as S,Ba as V,Cb as u,Ec as y,Gb as n,Hb as o,Hc as F,Ib as v,Ka as x,Kb as b,Nb as _,Pb as E,Xb as l,cb as d,db as h,pb as C,qa as s,s as g,vb as p,xb as f}from"./chunk-7USMCEWK.js";var Z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=s({type:e,selectors:[["app-update-password-form"]],standalone:!0,features:[c],decls:2,vars:0,template:function(i,r){i&1&&(n(0,"p"),l(1,"update-password-form works!"),o())}});let t=e;return t})();function te(t,e){t&1&&v(0,"mat-spinner",1)}function ie(t,e){t&1&&(n(0,"mat-error",4),l(1,"Email is invalid"),o())}function ae(t,e){if(t&1&&p(0,ie,2,0,"mat-error",6),t&2){let m=E(2);f("ngIf",m.validateEmailField.errors.required)}}function oe(t,e){if(t&1&&(n(0,"div",2)(1,"mat-form-field")(2,"mat-label"),l(3,"Email"),o(),v(4,"input",3),p(5,ae,1,1,"mat-error",4),o()(),n(6,"button",5),l(7,"Validate Email"),o()),t&2){let m=E();d(4),f("formControl",m.validateEmailField),d(),u(5,m.validateEmailField.invalid&&(m.validateEmailField.dirty||m.validateEmailField.touched)?5:-1),d(),f("disabled",!m.formGroup.valid)}}var ee=(()=>{let e=class e{constructor(a,i,r){this.store$=a,this.actions$=i,this.snackService=r,this.emailValidated=new x,this.isLoading=C(!1),this.validateEmailField=new j("",k.required),this.formGroup=new U({validateEmailField:this.validateEmailField})}ngOnInit(){this.handleValidateEmailSuccess().subscribe(),this.handleValidateEmailError().subscribe()}onSubmit(){this.formGroup.valid&&(this.isLoading.update(()=>!0),this.store$.dispatch(T({email:this.validateEmailField.value})))}handleValidateEmailSuccess(){return this.actions$.pipe(w(D),g(()=>{this.isLoading.update(()=>!1),this.emailValidated.emit(!0)}))}handleValidateEmailError(){return this.actions$.pipe(w(G),g(a=>{if(this.isLoading.update(()=>!1),a){let{error:i}=a;this.snackService.openSnackBar(i.message)}}))}};e.\u0275fac=function(i){return new(i||e)(h(M),h(I),h(X))},e.\u0275cmp=s({type:e,selectors:[["app-validate-email-form"]],outputs:{emailValidated:"emailValidated"},standalone:!0,features:[c],decls:3,vars:2,consts:[[1,"form",3,"ngSubmit","formGroup"],["data-spinner",""],[1,"form-group"],["matInput","","placeholder","Enter your email","data-validate-email-field","",3,"formControl"],["data-validate-email-error-field",""],["mat-flat-button","","color","primary","type","submit","data-validate-email-btn","",3,"disabled"],["data-validate-email-error-field","",4,"ngIf"]],template:function(i,r){i&1&&(n(0,"form",0),_("ngSubmit",function(){return r.onSubmit()}),p(1,te,1,0,"mat-spinner",1)(2,oe,8,3),o()),i&2&&(f("formGroup",r.formGroup),d(),u(1,r.isLoading()?1:2))},dependencies:[O,q,L,N,$,A,B,F,y,W,J,z,H,K,R,Q]});let t=e;return t})();function re(t,e){t&1&&v(0,"app-update-password-form")}function ne(t,e){if(t&1){let m=b();n(0,"app-validate-email-form",5),_("emailValidated",function(i){S(m);let r=E();return V(r.onEmailValidated(i))}),o()}}var Le=(()=>{let e=class e{constructor(){this.showUpdatePasswordForm=C(!1)}onEmailValidated(a){a&&this.showUpdatePasswordForm.update(()=>!0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=s({type:e,selectors:[["app-forgot-password"]],standalone:!0,features:[c],decls:8,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-6","mx-auto"],[1,"card","card-body"],[1,"title"],[3,"emailValidated"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),l(5,"Forgot Password"),o(),p(6,re,1,0,"app-update-password-form")(7,ne,1,0),o()()()()),i&2&&(d(6),u(6,r.showUpdatePasswordForm()?6:7))},dependencies:[Z,ee,P,F]});let t=e;return t})();export{Le as ForgotPasswordComponent};
