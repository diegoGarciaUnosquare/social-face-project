import{a as ce}from"./chunk-UI7YU45K.js";import{a as G,e as L,f as V,g as j,o as B,p as b}from"./chunk-KBMGLM7F.js";import{A as ae,B as me,J as se,K as le,L as pe,a as $,b as _,c as z,d as H,e as J,f,g as K,h as W,i as X,j as Y,k as Z,r as ee,v as te,w as re,x as ie,y as ne,z as oe}from"./chunk-L72RMU5U.js";import{g as R,i as Q}from"./chunk-4QQ7GXC4.js";import"./chunk-JGYM447R.js";import{$b as D,Aa as x,Ba as E,Cb as d,Ec as k,Gb as n,Gc as O,H as S,Hb as r,Hc as A,Ib as u,Kb as N,Nb as U,Pb as C,Tb as q,Ub as M,Vb as I,Xb as m,ac as F,cb as o,db as v,dc as T,ec as P,qa as w,s as y,vb as s,xb as a}from"./chunk-7USMCEWK.js";var de=["createUserStepper"],ue=()=>["/login"];function fe(e,i){e&1&&(n(0,"mat-error"),m(1,"Username is required"),r())}function Ce(e,i){if(e&1&&s(0,fe,2,0,"mat-error",15),e&2){let l=C();a("ngIf",l.username.errors.required)}}function _e(e,i){e&1&&(n(0,"mat-error"),m(1,"Password is required"),r())}function he(e,i){if(e&1&&s(0,_e,2,0,"mat-error",15),e&2){let l=C();a("ngIf",l.password.errors.required)}}function ve(e,i){e&1&&(n(0,"mat-error"),m(1,"Email is required"),r())}function ye(e,i){if(e&1&&s(0,ve,2,0,"mat-error",15),e&2){let l=C();a("ngIf",l.email.errors.required)}}function Se(e,i){e&1&&(n(0,"mat-error"),m(1,"First Name is required"),r())}function be(e,i){if(e&1&&s(0,Se,2,0,"mat-error",15),e&2){let l=C();a("ngIf",l.firstName.errors.required)}}function ge(e,i){e&1&&(n(0,"mat-error"),m(1,"Last Name is required"),r())}function we(e,i){if(e&1&&s(0,ge,2,0,"mat-error",15),e&2){let l=C();a("ngIf",l.lastName.errors.required)}}function xe(e,i){e&1&&(n(0,"mat-error"),m(1,"Date of Birth is required"),r())}function Ee(e,i){if(e&1&&s(0,xe,2,0,"mat-error",15),e&2){let l=C();a("ngIf",l.birthDate.errors.required)}}function Ne(e,i){e&1&&u(0,"mat-spinner")}function Ue(e,i){e&1&&(n(0,"button",16),m(1,"Next"),r())}var Je=(()=>{let i=class i{constructor(c,p,t,h){this.breakpointObserver=c,this.actions$=p,this.snackbarService=t,this.store=h,this.email=new f("",_.required),this.firstName=new f("",_.required),this.lastName=new f("",_.required),this.password=new f("",_.required),this.username=new f("",_.required),this.birthDate=new f("",_.required),this.notificationPreference=new f(!1),this.isLoading=!1,this.createAccountFormGroup=new J({email:this.email,firstName:this.firstName,lastName:this.lastName,password:this.password,username:this.username,birthDate:this.birthDate,notificationPreference:this.notificationPreference}),this.stepperOrientation=c.observe("(min-width: 800px)").pipe(y(({matches:g})=>g?"horizontal":"vertical"))}ngOnInit(){this.handleUserCreationError().subscribe(),this.handleUserCreationSuccess().subscribe()}onSubmit(){if(this.createAccountFormGroup.valid){let c={email:this.email.value,firstName:this.firstName.value,lastName:this.lastName.value,password:this.password.value,username:this.username.value,birthDate:this.birthDate.value,notificationPreference:this.notificationPreference.value};this.store.dispatch(L({userData:c}))}}handleUserCreationError(){return this.actions$.pipe(b(j),S(1),y(c=>{if(c){let{error:p}=c;this.snackbarService.openSnackBar(p.message)}}))}handleUserCreationSuccess(){return this.actions$.pipe(b(V),S(1),y(()=>{this.createUserStepper&&this.createUserStepper.next()}))}};i.\u0275fac=function(p){return new(p||i)(v(ee),v(B),v(ce),v(G))},i.\u0275cmp=w({type:i,selectors:[["app-create-user"]],viewQuery:function(p,t){if(p&1&&q(de,5),p&2){let h;M(h=I())&&(t.createUserStepper=h.first)}},standalone:!0,features:[D],decls:45,vars:20,consts:[["createUserStepper",""],[1,"create-user-container"],["linear","",1,"user-creation-stepper",3,"orientation"],["label","Fill information for account creation",3,"stepControl"],[3,"ngSubmit","formGroup"],[1,"form-group-container"],["type","text","matInput","","placeholder","Enter your username","required","",3,"formControl"],["type","password","matInput","","placeholder","Enter your password","required","",3,"formControl"],["type","email","matInput","","placeholder","Enter your email","required","",3,"formControl"],["type","text","matInput","","placeholder","Enter your first name","required","",3,"formControl"],["type","email","matInput","","placeholder","Enter your last name","required","",3,"formControl"],["type","date","matInput","","placeholder","Enter your date of birth","required","",3,"formControl"],["label","Done!"],[1,"account-created-title"],["mat-button","",3,"routerLink"],[4,"ngIf"],["type","submit","mat-flat-button","","color","primary"]],template:function(p,t){if(p&1){let h=N();n(0,"section",1)(1,"mat-stepper",2,0),T(3,"async"),n(4,"mat-step",3)(5,"form",4),U("ngSubmit",function(){return x(h),E(t.onSubmit())}),n(6,"div",5)(7,"mat-form-field")(8,"mat-label"),m(9,"Username"),r(),u(10,"input",6),s(11,Ce,1,1,"mat-error"),r(),n(12,"mat-form-field")(13,"mat-label"),m(14,"Password"),r(),u(15,"input",7),s(16,he,1,1,"mat-error"),r(),n(17,"mat-form-field")(18,"mat-label"),m(19,"Email"),r(),u(20,"input",8),s(21,ye,1,1,"mat-error"),r(),n(22,"mat-form-field")(23,"mat-label"),m(24,"First Name"),r(),u(25,"input",9),s(26,be,1,1,"mat-error"),r(),n(27,"mat-form-field")(28,"mat-label"),m(29,"Last Name"),r(),u(30,"input",10),s(31,we,1,1,"mat-error"),r(),n(32,"mat-form-field")(33,"mat-label"),m(34,"Date of Birth"),r(),u(35,"input",11),s(36,Ee,1,1,"mat-error"),r()(),n(37,"div"),s(38,Ne,1,0,"mat-spinner")(39,Ue,2,0),r()()(),n(40,"mat-step",12)(41,"h2",13),m(42," Account Created! "),r(),n(43,"a",14),m(44,"Click here to navigate back to login screen."),r()()()()}p&2&&(o(),a("orientation",P(3,17,t.stepperOrientation)),o(3),a("stepControl",t.createAccountFormGroup),o(),a("formGroup",t.createAccountFormGroup),o(5),a("formControl",t.username),o(),d(11,t.username.invalid&&(t.username.dirty||t.username.touched)?11:-1),o(4),a("formControl",t.password),o(),d(16,t.password.invalid&&(t.password.dirty||t.password.touched)?16:-1),o(4),a("formControl",t.email),o(),d(21,t.email.invalid&&(t.email.dirty||t.email.touched)?21:-1),o(4),a("formControl",t.firstName),o(),d(26,t.firstName.invalid&&(t.firstName.dirty||t.firstName.touched)?26:-1),o(4),a("formControl",t.lastName),o(),d(31,t.lastName.invalid&&(t.lastName.dirty||t.lastName.touched)?31:-1),o(4),a("formControl",t.birthDate),o(),d(36,t.birthDate.invalid&&(t.birthDate.dirty||t.birthDate.touched)?36:-1),o(2),d(38,t.isLoading?38:39),o(5),a("routerLink",F(19,ue)))},dependencies:[Z,K,$,z,H,Y,W,X,pe,oe,ie,ne,ae,re,te,se,le,me,O,Q,R,A,k],styles:[".create-user-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;height:360px;justify-content:center;width:100%}.create-user-container[_ngcontent-%COMP%]   .user-creation-stepper[_ngcontent-%COMP%]{width:60%}.create-user-container[_ngcontent-%COMP%]   .form-group-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:10px;justify-content:space-around}.create-user-container[_ngcontent-%COMP%]   .account-created-title[_ngcontent-%COMP%]{color:#fff;margin-left:9px}"]});let e=i;return e})();export{Je as CreateUserComponent};
