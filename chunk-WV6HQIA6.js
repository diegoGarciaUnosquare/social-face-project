import{a as L,b as j,d as z}from"./chunk-RTSIFCUM.js";import{a as I,d as S}from"./chunk-J5UGBKPJ.js";import{b as w}from"./chunk-7YMTVX6X.js";import{a as A,b as F,c as T,h as E,i as D}from"./chunk-WSYZKVRC.js";import{t as $}from"./chunk-ANMYY5ZS.js";import{Ab as M,Cb as c,Hb as b,Jb as v,K as x,Kb as O,Lb as d,Mb as o,Nb as l,Oc as y,Ub as h,ac as u,cc as C,fc as g,hb as r,i as _,ib as P,ua as f,ub as p,v as m}from"./chunk-CFLUTWLG.js";var k=(()=>{let e=class e{constructor(){this.ad=null,this.index=0,this.elementId=p("")}ngOnInit(){this.elementId.update(()=>`ad-container-${this.index}`)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=f({type:e,selectors:[["app-ad"]],inputs:{ad:"ad",index:"index"},standalone:!0,features:[g],decls:8,vars:3,consts:[[1,"ad-container",3,"id"],["aria-label","advertising title",1,"ad-title"],["aria-label","advertising message",1,"ad-description"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","aria-label","Advertising image","alt","Photo for advertising"]],template:function(n,a){n&1&&(d(0,"mat-card",0)(1,"mat-card-title")(2,"h2",1),u(3),o()(),d(4,"mat-card-content")(5,"p",2),u(6),o()(),l(7,"img",3),o()),n&2&&(c("id",a.elementId()),r(3),C(" ",a.ad==null?null:a.ad.title," "),r(3),C(" ",a.ad==null?null:a.ad.description," "))},dependencies:[D,A,T,E,F],styles:[".ad-container[_ngcontent-%COMP%]   h2.ad-title[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;padding-left:10px;padding-top:10px}.ad-container[_ngcontent-%COMP%]   p.ad-description[_ngcontent-%COMP%]{color:#fff;font-size:1rem;padding-bottom:15px}"]});let i=e;return i})();var q=(i,e)=>e.id;function B(i,e){if(i&1&&(d(0,"article",2),l(1,"app-ad",3),o()),i&2){let s=h().$index,t=h();r(),c("ad",t.ad())("index",s)}}function G(i,e){if(i&1&&(d(0,"article",4),l(1,"app-post",5),o()),i&2){let s=h(),t=s.$implicit,n=s.$index;r(),c("post",t)("index",n)}}function H(i,e){if(i&1&&M(0,B,2,2,"article",2)(1,G,2,2),i&2){let s=e.$index;b(0,s>0&&s%4===0?0:1)}}var at=(()=>{let e=class e{constructor(t){this.store$=t,this.postList=p([]),this.posts=new _,this.ad=p(null)}ngOnInit(){this.fetchPosts().subscribe(),this.fetchAd(),this.getPost().subscribe(),this.getAd().subscribe(),this.handlePosts()}fetchPosts(){return this.store$.select(L).pipe(m(t=>{t&&t.length>0?this.posts.next(t):this.posts.next([])}))}fetchAd(){this.store$.dispatch(S())}handlePosts(){this.posts.subscribe(t=>{this.postList.update(()=>t)})}getPost(){return this.store$.select(w).pipe(x(1),m(t=>{t&&t!==""&&this.store$.dispatch(I({userId:t}))}))}getAd(){return this.store$.select(j).pipe(x(1),m(t=>{t&&this.ad.update(()=>t)}))}};e.\u0275fac=function(n){return new(n||e)(P($))},e.\u0275cmp=f({type:e,selectors:[["app-posts"]],standalone:!0,features:[g],decls:4,vars:0,consts:[["aria-label","Posts List","data-posts-section-container","",1,"posts-section-container"],[1,"post-list-container"],["aria-label","ad",1,"post-article"],[3,"ad","index"],["aria-label","Post",1,"post-article"],[3,"post","index"]],template:function(n,a){n&1&&(d(0,"section",0)(1,"div",1),v(2,H,2,1,null,null,q),o()()),n&2&&(r(2),O(a.postList()))},dependencies:[y,z,k],styles:[".posts-section-container[_ngcontent-%COMP%]{height:100%;width:100%;padding-right:30px;padding-left:30px;box-sizing:border-box}.posts-section-container[_ngcontent-%COMP%]   .post-list-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;gap:20px;height:100%;padding-top:20px}.posts-section-container[_ngcontent-%COMP%]   .post-list-container[_ngcontent-%COMP%]   .post-article[_ngcontent-%COMP%]{width:30%;box-shadow:-14px 4px 50px #0000004d}@media screen and (max-width: 768px){.posts-section-container[_ngcontent-%COMP%]   .post-list-container[_ngcontent-%COMP%]   .post-article[_ngcontent-%COMP%]{width:100%}}"]});let i=e;return i})();export{at as PostsComponent};
