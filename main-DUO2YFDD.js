import{a as ke,b as Pe,c as je,d as $e,e as Re,f as Me}from"./chunk-IJ5PJAXW.js";import{a as ye,b as ve,c as Ie,d as Ee,e as xe,f as we,g as Ce,h as be,i as Fe,j as Ue,k as Oe,l as Te}from"./chunk-J5UGBKPJ.js";import{a as Qt}from"./chunk-7YMTVX6X.js";import{a as Kt,b as Wt,c as Jt,f as Yt}from"./chunk-VFKILHBG.js";import{a as F,b as B,c as U,d as Xt}from"./chunk-6SLE7AYE.js";import{a as re,b as se,c as ie,d as ne,e as oe,f as q,g as ae,h as ce,i as ue,j as pe,k as le,l as de,m as he,n as me,o as fe,p as ge,q as Se,r as Ae}from"./chunk-A2AW2SYP.js";import{a as M,b as Mt,c as Dt,d as Nt,g as Lt,j as Ze,k as te,l as zt,o as Bt,p as Gt,q as Xe,r as Ht,s as qt,t as Vt,w as Zt,x as h,y as z}from"./chunk-ANMYY5ZS.js";import{$ as vt,D as Ve,E as L,Ec as $t,G as g,H as gt,I as St,Ia as wt,K as X,La as Ct,Lb as Q,Mb as _,Nb as kt,Oc as Rt,Ua as bt,Y as At,Z as yt,a as p,ac as Pt,b as S,ba as b,ca as K,ea as It,f as qe,fa as Et,fc as ee,ha as w,jb as Ft,k as lt,ka as H,lb as Ut,m as dt,ma as A,n as ht,na as D,nb as Ot,o as mt,pb as Tt,q as C,qb as Y,tc as jt,u as ft,ua as W,v as u,xa as J,ya as xt}from"./chunk-CFLUTWLG.js";var Z="PERFORM_ACTION",zr="REFRESH",ir="RESET",nr="ROLLBACK",or="COMMIT",ar="SWEEP",cr="TOGGLE_ACTION",Br="SET_ACTIONS_ACTIVE",ur="JUMP_TO_STATE",pr="JUMP_TO_ACTION",ot="IMPORT_STATE",lr="LOCK_CHANGES",dr="PAUSE_RECORDING",G=class{constructor(e,i){if(this.action=e,this.timestamp=i,this.type=Z,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Ke=class{constructor(){this.type=zr}},We=class{constructor(e){this.timestamp=e,this.type=ir}},Je=class{constructor(e){this.timestamp=e,this.type=nr}},Ye=class{constructor(e){this.timestamp=e,this.type=or}},Qe=class{constructor(){this.type=ar}},_e=class{constructor(e){this.id=e,this.type=cr}};var et=class{constructor(e){this.index=e,this.type=ur}},tt=class{constructor(e){this.actionId=e,this.type=pr}},rt=class{constructor(e){this.nextLiftedState=e,this.type=ot}},st=class{constructor(e){this.status=e,this.type=lr}},it=class{constructor(e){this.status=e,this.type=dr}};var ze=new H("@ngrx/store-devtools Options"),_t=new H("@ngrx/store-devtools Initial Config");function hr(){return null}var Gr="NgRx Store DevTools";function Hr(t){let e={maxAge:!1,monitor:hr,actionSanitizer:void 0,stateSanitizer:void 0,name:Gr,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},i=typeof t=="function"?t():t,r=i.logOnly?{pause:!0,export:!0,test:!0}:!1,s=i.features||r||e.features;s.import===!0&&(s.import="custom");let o=Object.assign({},e,{features:s},i);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function er(t,e){return t.filter(i=>e.indexOf(i)<0)}function mr(t){let{computedStates:e,currentStateIndex:i}=t;if(i>=e.length){let{state:s}=e[e.length-1];return s}let{state:r}=e[i];return r}function V(t){return new G(t,+Date.now())}function qr(t,e){return Object.keys(e).reduce((i,r)=>{let s=Number(r);return i[s]=fr(t,e[s],s),i},{})}function fr(t,e,i){return S(p({},e),{action:t(e.action,i)})}function Vr(t,e){return e.map((i,r)=>({state:gr(t,i.state,r),error:i.error}))}function gr(t,e,i){return t(e,i)}function Sr(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function Zr(t,e,i,r){let s=[],o={},n=[];return t.stagedActionIds.forEach((a,l)=>{let m=t.actionsById[a];m&&(l&&at(t.computedStates[l],m,e,i,r)||(o[a]=m,s.push(a),n.push(t.computedStates[l])))}),S(p({},t),{stagedActionIds:s,actionsById:o,computedStates:n})}function at(t,e,i,r,s){let o=i&&!i(t,e.action),n=r&&!e.action.type.match(r.map(l=>tr(l)).join("|")),a=s&&e.action.type.match(s.map(l=>tr(l)).join("|"));return o||n||a}function tr(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ar(t){return{ngZone:t?D(Y):null,connectInZone:t}}var Be=(()=>{let e=class e extends te{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=wt(e)))(o||e)}})(),e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})(),De={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},nt=new H("@ngrx/store-devtools Redux Devtools Extension"),yr=(()=>{let e=class e{constructor(r,s,o){this.config=s,this.dispatcher=o,this.zoneConfig=Ar(this.config.connectInZone),this.devtoolsExtension=r,this.createActionStreams()}notify(r,s){if(this.devtoolsExtension)if(r.type===Z){if(s.isLocked||s.isPaused)return;let o=mr(s);if(Sr(this.config)&&at(o,r,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let n=this.config.stateSanitizer?gr(this.config.stateSanitizer,o,s.currentStateIndex):o,a=this.config.actionSanitizer?fr(this.config.actionSanitizer,r,s.nextActionId):r;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,n))}else{let o=S(p({},s),{stagedActionIds:s.stagedActionIds,actionsById:this.config.actionSanitizer?qr(this.config.actionSanitizer,s.actionsById):s.actionsById,computedStates:this.config.stateSanitizer?Vr(this.config.stateSanitizer,s.computedStates):s.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new qe(r=>{let s=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=s,s.init(),s.subscribe(o=>r.next(o)),s.unsubscribe}):ht}createActionStreams(){let r=this.createChangesObservable().pipe(yt()),s=r.pipe(L(d=>d.type===De.START)),o=r.pipe(L(d=>d.type===De.STOP)),n=r.pipe(L(d=>d.type===De.DISPATCH),u(d=>this.unwrapAction(d.payload)),gt(d=>d.type===ot?this.dispatcher.pipe(L(c=>c.type===Xe),ft(1e3),St(1e3),u(()=>d),g(()=>C(d)),X(1)):C(d))),l=r.pipe(L(d=>d.type===De.ACTION),u(d=>this.unwrapAction(d.payload))).pipe(K(o)),m=n.pipe(K(o));this.start$=s.pipe(K(o)),this.actions$=this.start$.pipe(b(()=>l)),this.liftedActions$=this.start$.pipe(b(()=>m))}unwrapAction(r){return typeof r=="string"?(0,eval)(`(${r})`):r}getExtensionConfig(r){let s={name:r.name,features:r.features,serialize:r.serialize,autoPause:r.autoPause??!1,trace:r.trace??!1,traceLimit:r.traceLimit??75};return r.maxAge!==!1&&(s.maxAge=r.maxAge),s}sendToReduxDevtools(r){try{r()}catch(s){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",s)}}};e.\u0275fac=function(s){return new(s||e)(A(nt),A(ze),A(Be))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})(),Le={type:Ze},Xr="@ngrx/store-devtools/recompute",Kr={type:Xr};function vr(t,e,i,r,s){if(r)return{state:i,error:"Interrupted by an error up the chain"};let o=i,n;try{o=t(i,e)}catch(a){n=a.toString(),s.handleError(a)}return{state:o,error:n}}function Ne(t,e,i,r,s,o,n,a,l){if(e>=t.length&&t.length===o.length)return t;let m=t.slice(0,e),d=o.length-(l?1:0);for(let c=e;c<d;c++){let I=o[c],T=s[I].action,y=m[c-1],f=y?y.state:r,P=y?y.error:void 0,j=n.indexOf(I)>-1?y:vr(i,T,f,P,a);m.push(j)}return l&&m.push(t[t.length-1]),m}function Wr(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:V(Le)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Jr(t,e,i,r,s={}){return o=>(n,a)=>{let{monitorState:l,actionsById:m,nextActionId:d,stagedActionIds:c,skippedActionIds:I,committedState:T,currentStateIndex:y,computedStates:f,isLocked:P,isPaused:O}=n||e;n||(m=Object.create(m));function j(x){let E=x,R=c.slice(1,E+1);for(let k=0;k<R.length;k++)if(f[k+1].error){E=k,R=c.slice(1,E+1);break}else delete m[R[k]];I=I.filter(k=>R.indexOf(k)===-1),c=[0,...c.slice(E+1)],T=f[E].state,f=f.slice(E),y=y>E?y-E:0}function N(){m={0:V(Le)},d=1,c=[0],I=[],T=f[y].state,y=0,f=[]}let v=0;switch(a.type){case lr:{P=a.status,v=1/0;break}case dr:{O=a.status,O?(c=[...c,d],m[d]=new G({type:"@ngrx/devtools/pause"},+Date.now()),d++,v=c.length-1,f=f.concat(f[f.length-1]),y===c.length-2&&y++,v=1/0):N();break}case ir:{m={0:V(Le)},d=1,c=[0],I=[],T=t,y=0,f=[];break}case or:{N();break}case nr:{m={0:V(Le)},d=1,c=[0],I=[],y=0,f=[];break}case cr:{let{id:x}=a;I.indexOf(x)===-1?I=[x,...I]:I=I.filter(R=>R!==x),v=c.indexOf(x);break}case Br:{let{start:x,end:E,active:R}=a,k=[];for(let He=x;He<E;He++)k.push(He);R?I=er(I,k):I=[...I,...k],v=c.indexOf(x);break}case ur:{y=a.index,v=1/0;break}case pr:{let x=c.indexOf(a.actionId);x!==-1&&(y=x),v=1/0;break}case ar:{c=er(c,I),I=[],y=Math.min(y,c.length-1);break}case Z:{if(P)return n||e;if(O||n&&at(n.computedStates[y],a,s.predicate,s.actionsSafelist,s.actionsBlocklist)){let E=f[f.length-1];f=[...f.slice(0,-1),vr(o,a.action,E.state,E.error,i)],v=1/0;break}s.maxAge&&c.length===s.maxAge&&j(1),y===c.length-1&&y++;let x=d++;m[x]=a,c=[...c,x],v=c.length-1;break}case ot:{({monitorState:l,actionsById:m,nextActionId:d,stagedActionIds:c,skippedActionIds:I,committedState:T,currentStateIndex:y,computedStates:f,isLocked:P,isPaused:O}=a.nextLiftedState);break}case Ze:{v=0,s.maxAge&&c.length>s.maxAge&&(f=Ne(f,v,o,T,m,c,I,i,O),j(c.length-s.maxAge),v=1/0);break}case Xe:{if(f.filter(E=>E.error).length>0)v=0,s.maxAge&&c.length>s.maxAge&&(f=Ne(f,v,o,T,m,c,I,i,O),j(c.length-s.maxAge),v=1/0);else{if(!O&&!P){y===c.length-1&&y++;let E=d++;m[E]=new G(a,+Date.now()),c=[...c,E],v=c.length-1,f=Ne(f,v,o,T,m,c,I,i,O)}f=f.map(E=>S(p({},E),{state:o(E.state,Kr)})),y=c.length-1,s.maxAge&&c.length>s.maxAge&&j(c.length-s.maxAge),v=1/0}break}default:{v=1/0;break}}return f=Ne(f,v,o,T,m,c,I,i,O),l=r(l,a),{monitorState:l,actionsById:m,nextActionId:d,stagedActionIds:c,skippedActionIds:I,committedState:T,currentStateIndex:y,computedStates:f,isLocked:P,isPaused:O}}}var rr=(()=>{let e=class e{constructor(r,s,o,n,a,l,m,d){let c=Wr(m,d.monitor),I=Jr(m,c,l,d.monitor,d),T=Ve(Ve(s.asObservable().pipe(vt(1)),n.actions$).pipe(u(V)),r,n.liftedActions$).pipe(mt(dt)),y=o.pipe(u(I)),f=Ar(d.connectInZone),P=new lt(1);this.liftedStateSubscription=T.pipe(It(y),sr(f),At(({state:N},[v,x])=>{let E=x(N,v);return v.type!==Z&&Sr(d)&&(E=Zr(E,d.predicate,d.actionsSafelist,d.actionsBlocklist)),n.notify(v,E),{state:E,action:v}},{state:c,action:null})).subscribe(({state:N,action:v})=>{if(P.next(N),v.type===Z){let x=v.action;a.next(x)}}),this.extensionStartSubscription=n.start$.pipe(sr(f)).subscribe(()=>{this.refresh()});let O=P.asObservable(),j=O.pipe(u(mr));Object.defineProperty(j,"state",{value:Lt(j,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=r,this.liftedState=O,this.state=j}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(r){this.dispatcher.next(r)}next(r){this.dispatcher.next(r)}error(r){}complete(){}performAction(r){this.dispatch(new G(r,+Date.now()))}refresh(){this.dispatch(new Ke)}reset(){this.dispatch(new We(+Date.now()))}rollback(){this.dispatch(new Je(+Date.now()))}commit(){this.dispatch(new Ye(+Date.now()))}sweep(){this.dispatch(new Qe)}toggleAction(r){this.dispatch(new _e(r))}jumpToAction(r){this.dispatch(new tt(r))}jumpToState(r){this.dispatch(new et(r))}importState(r){this.dispatch(new rt(r))}lockChanges(r){this.dispatch(new st(r))}pauseRecording(r){this.dispatch(new it(r))}};e.\u0275fac=function(s){return new(s||e)(A(Be),A(te),A(Bt),A(yr),A(Ht),A(Ct),A(zt),A(ze))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})();function sr({ngZone:t,connectInZone:e}){return i=>e?new qe(r=>i.subscribe({next:s=>t.run(()=>r.next(s)),error:s=>t.run(()=>r.error(s)),complete:()=>t.run(()=>r.complete())})):i}var Yr=new H("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Qr(t,e){return!!t||e.monitor!==hr}function _r(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function Ir(t={}){return J([yr,Be,rr,{provide:_t,useValue:t},{provide:Yr,deps:[nt,ze],useFactory:Qr},{provide:nt,useFactory:_r},{provide:ze,deps:[_t],useFactory:Hr},{provide:qt,deps:[rr],useFactory:es},{provide:Gt,useExisting:Be}])}function es(t){return t.state}var rs={user:null,profile:null,error:null},Er=z(rs,h(re,t=>p({},t)),h(se,t=>p({},t)),h(ie,(t,{error:e})=>S(p({},t),{error:e})),h(ne,t=>p({},t)),h(oe,t=>p({},t)),h(q,(t,{error:e})=>S(p({},t),{error:e})),h(ae,t=>p({},t)),h(ce,t=>p({},t)),h(ue,(t,{error:e})=>S(p({},t),{error:e})),h(pe,t=>p({},t)),h(le,(t,{user:e})=>S(p({},t),{user:e})),h(de,(t,{error:e})=>S(p({},t),{error:e})),h(he,t=>p({},t)),h(me,(t,{profile:e})=>S(p({},t),{profile:e})),h(fe,(t,{error:e})=>S(p({},t),{error:e})),h(ge,t=>p({},t)),h(Se,t=>S(p({},t),{user:null})),h(Ae,(t,{error:e})=>S(p({},t),{error:e})));var is={posts:[],ads:null,error:null},xr=z(is,h(ye,t=>p({},t)),h(ve,(t,{posts:e})=>S(p({},t),{posts:e})),h(Ie,(t,{error:e})=>S(p({},t),{error:e})),h(Ee,t=>p({},t)),h(xe,(t,{ads:e})=>S(p({},t),{ads:e})),h(we,(t,{error:e})=>S(p({},t),{error:e})),h(Ce,t=>p({},t)),h(be,(t,{posts:e})=>S(p({},t),{posts:e})),h(Fe,(t,{error:e})=>S(p({},t),{error:e})),h(Ue,t=>p({},t)),h(Oe,(t,{posts:e})=>S(p({},t),{posts:e})),h(Te,(t,{error:e})=>S(p({},t),{error:e})));var os={settings:null,error:null},wr=z(os,h(ke,t=>p({},t)),h(Pe,(t,{settings:e})=>S(p({},t),{settings:e})),h(je,(t,{error:e})=>S(p({},t),{error:e})),h($e,t=>p({},t)),h(Re,(t,{settings:e})=>S(p({},t),{settings:e})),h(Me,(t,{error:e})=>S(p({},t),{error:e})));var Cr={user:Er,feed:xr,settings:wr},br=jt()?[]:[];var Fr=(()=>{let e=class e{constructor(r){this.httpClient=r,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-project-mock-server/"}fetchPosts(r){return this.httpClient.get(`${this.url}social-post`).pipe(u(s=>s),g(s=>{throw new Error(s.message)}))}fetchAds(){return this.httpClient.get("https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-feed-user-mock-backend/ad").pipe(u(r=>r.length>0?r[0]:{}),g(r=>{throw new Error(r.message)}))}likePost(r){return this.httpClient.get(`${this.url}social-post`).pipe(u(s=>s.map(o=>o.id===r?S(p({},o),{likes:this.increaseLike(o.likes)}):o)),g(s=>{throw new Error(s.message)}))}addComment(r,s,o){return this.httpClient.get(`${this.url}social-post`).pipe(u(n=>n.map(a=>{let l={content:s,userId:o,createdAt:new Date().toISOString(),postId:r,id:`${a.comments.length+1}`};return a.id===r?S(p({},a),{comments:[...a.comments,l]}):a})),g(n=>{throw new Error(n.message)}))}increaseLike(r){return r+1}};e.\u0275fac=function(s){return new(s||e)(A(M))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Or=(()=>{let e=class e{constructor(r,s,o){this.actions$=r,this.feedService=s,this.snackbarService=o,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-project-mock-server/",this.fetchPosts$=F(()=>this.actions$.pipe(U(ye),u(n=>n.userId),b(n=>this.feedService.fetchPosts(n).pipe(u(a=>ve({posts:a})),g(a=>{let l={message:a.message,status:500,url:`${this.url}social-post`};return this.snackbarService.openSnackBar(l.message),C(Ie({error:l}))}))))),this.fetchAds$=F(()=>this.actions$.pipe(U(Ee),b(()=>this.feedService.fetchAds().pipe(u(n=>xe({ads:n})),g(n=>{let a={message:n.message,status:500,url:"http://localhost:3000/ads"};return this.snackbarService.openSnackBar(a.message),C(we({error:a}))}))))),this.likePost$=F(()=>this.actions$.pipe(U(Ce),u(n=>n.postId),b(n=>this.feedService.likePost(n).pipe(u(a=>be({posts:a})),g(a=>{let l={message:a.message,status:500,url:`${this.url}social-post`};return this.snackbarService.openSnackBar(l.message),C(Fe({error:l}))}))))),this.addCommentPost$=F(()=>this.actions$.pipe(U(Ue),u(n=>n),b(({postId:n,content:a,userId:l})=>this.feedService.addComment(n,a,l).pipe(u(m=>Oe({posts:m})),g(m=>{let d={message:m.message,status:500,url:`${this.url}social-post`};return this.snackbarService.openSnackBar(d.message),C(Te({error:d}))})))))}};e.\u0275fac=function(s){return new(s||e)(A(B),A(Fr),A(Kt))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})();var Tr=(()=>{let e=class e{constructor(r){this.httpClient=r,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-feed-user-mock-backend/"}getSettings(){return this.httpClient.get(`${this.url}settings`).pipe(u(r=>r[0]),g(r=>{throw new Error(r.message)}))}updateSettings(r){return this.httpClient.get(`${this.url}settings`).pipe(u(()=>r),g(s=>{throw new Error(s.message)}))}};e.\u0275fac=function(s){return new(s||e)(A(M))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kr=(()=>{let e=class e{constructor(r,s){this.actions$=r,this.settingsService=s,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-feed-user-mock-backend/",this.getSettings$=F(()=>this.actions$.pipe(U(ke),b(()=>this.settingsService.getSettings().pipe(u(o=>Pe({settings:o})),g(o=>{let n={message:o.message,status:500,url:`${this.url}settings`};return C(je({error:n}))}))))),this.updateSettings$=F(()=>this.actions$.pipe(U($e),b(({settings:o})=>this.settingsService.updateSettings(o).pipe(u(()=>Re({settings:o})),g(n=>{let a={message:n.message,status:500,url:`${this.url}settings`};return C(Me({error:a}))})))))}};e.\u0275fac=function(s){return new(s||e)(A(B),A(Tr))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})();var ut=function(t){return t[t.user=0]="user",t[t.admin=1]="admin",t}(ut||{});var Pr=(()=>{let e=class e{constructor(r){this.httpService=r,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-project-mock-server/"}createUser(r){return this.httpService.post(`${this.url}create-user`,r).pipe(u(s=>s),g(s=>{throw new Error(s.message)}))}validateEmail(r){return this.httpService.post(`${this.url}validate-email`,{email:r}).pipe(u(s=>!!s),g(s=>{throw new Error(s.message)}))}updatePassword(r){return this.httpService.post(`${this.url}update-password`,{password:r}).pipe(u(s=>s),g(s=>{throw new Error(s.message)}))}login(r,s){return this.httpService.post(`${this.url}login-user`,{username:r,password:s}).pipe(u(()=>({id:"1",email:"test@test.com",password:"a9yhd7s1",firstName:"jon",lastName:"doe",birthDate:new Date("1991-01-01"),username:"testUser",notificationPreference:!1,role:ut.user,token:"iuhasd87tasiunds87g"})),g(o=>{throw new Error(o.message)}))}logout(){return this.httpService.post("https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-feed-user-mock-backend/logout-user",{}).pipe(u(()=>!0),g(r=>{throw new Error(r.message)}))}};e.\u0275fac=function(s){return new(s||e)(A(M))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jr=(()=>{let e=class e{constructor(r){this.httpClient=r,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-feed-user-mock-backend/"}getProfileData(r){return this.httpClient.get(`${this.url}profile`).pipe(u(s=>s[0]),g(s=>{throw new Error(s.message)}))}};e.\u0275fac=function(s){return new(s||e)(A(M))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $r=(()=>{let e=class e{constructor(r,s,o){this.actions$=r,this.userService=s,this.profileService=o,this.url="https://my-json-server.typicode.com/diegoGarciaUnosquare/social-face-project-mock-server/",this.createUser$=F(()=>this.actions$.pipe(U(re),u(n=>n.userData),b(n=>this.userService.createUser(n).pipe(u(()=>se()),g(a=>{let l={message:a.message,status:500,url:`${this.url}create-user`};return C(ie({error:l}))}))))),this.validateEmail$=F(()=>this.actions$.pipe(U(ne),u(n=>n.email),b(n=>this.userService.validateEmail(n).pipe(u(a=>{if(a)return oe();let l={message:"Invalid email",status:400,url:`${this.url}validate-email`};return q({error:l})}),g(a=>{let l={message:a.message,status:500,url:`${this.url}validate-email`};return C(q({error:l}))}))))),this.updatePassword$=F(()=>this.actions$.pipe(U(ae),u(n=>n.password),b(n=>this.userService.updatePassword(n).pipe(u(()=>ce()),g(a=>{let l={message:a.message,status:500,url:`${this.url}update-password`};return C(ue({error:l}))}))))),this.loginUser$=F(()=>this.actions$.pipe(U(pe),u(n=>n),b(({username:n,password:a})=>this.userService.login(n,a).pipe(u(l=>le({user:l})),g(l=>{let m={message:l.message,status:500,url:`${this.url}login-user`};return C(de({error:m}))}))))),this.userProfile$=F(()=>this.actions$.pipe(U(he),u(n=>n.userId),b(n=>this.profileService.getProfileData(n).pipe(u(a=>me({profile:a})),g(a=>{let l={message:a.message,status:500,url:`${this.url}get-profile`};return C(fe({error:l}))}))))),this.logoutUser$=F(()=>this.actions$.pipe(U(ge),u(()=>Se()),g(n=>{let a={message:n.message,status:500,url:`${this.url}logout-user`};return C(Ae({error:a}))})))}};e.\u0275fac=function(s){return new(s||e)(A(B),A(Pr),A(jr))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})();var ls="@",ds=(()=>{let e=class e{constructor(r,s,o,n,a){this.doc=r,this.delegate=s,this.zone=o,this.animationType=n,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=D(Ut,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-KY7P76SA.js")).catch(s=>{throw new Et(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:o})=>{this._engine=s(this.animationType,this.doc,this.scheduler);let n=new o(this.delegate,this._engine,this.zone);return this.delegate=n,n})}createRenderer(r,s){let o=this.delegate.createRenderer(r,s);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let n=new pt(o);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(r,s);n.use(l)}).catch(a=>{n.use(o)}),n}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(s){Ft()},e.\u0275prov=w({token:e,factory:e.\u0275fac});let t=e;return t})(),pt=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,r,s){this.delegate.insertBefore(e,i,r,s)}removeChild(e,i,r){this.delegate.removeChild(e,i,r)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,r,s){this.delegate.setAttribute(e,i,r,s)}removeAttribute(e,i,r){this.delegate.removeAttribute(e,i,r)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,r,s){this.delegate.setStyle(e,i,r,s)}removeStyle(e,i,r){this.delegate.removeStyle(e,i,r)}setProperty(e,i,r){this.shouldReplay(i)&&this.replay.push(s=>s.setProperty(e,i,r)),this.delegate.setProperty(e,i,r)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,r){return this.shouldReplay(i)&&this.replay.push(s=>s.listen(e,i,r)),this.delegate.listen(e,i,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(ls)}};function Rr(t="animations"){return Tt("NgAsyncAnimations"),J([{provide:Ot,useFactory:(e,i,r)=>new ds(e,i,r,t),deps:[$t,Dt,Y]},{provide:bt,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ge=(()=>{let e=class e{constructor(){this.title="social-face-project"}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=W({type:e,selectors:[["app-root"]],standalone:!0,features:[ee],decls:2,vars:0,template:function(s,o){s&1&&(Q(0,"main"),kt(1,"router-outlet"),_())},dependencies:[Rt,Wt]});let t=e;return t})();var Mr=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=W({type:e,selectors:[["app-page-not-found"]],standalone:!0,features:[ee],decls:2,vars:0,template:function(s,o){s&1&&(Q(0,"h2"),Pt(1,"Page Not Found"),_())}});let t=e;return t})();var Dr=()=>{let t=D(Vt),e=D(Jt);return t.select(Qt).pipe(X(1),u(i=>i&&i.token!==""?!0:(e.navigate(["/login"]),!1)))};var Nr=[{path:"feed",canActivate:[Dr],loadComponent:()=>import("./chunk-L6PEMEK5.js").then(t=>t.FeedComponent),loadChildren:()=>[{path:"",pathMatch:"full",redirectTo:"posts"},{path:"posts",pathMatch:"full",loadComponent:()=>import("./chunk-WV6HQIA6.js").then(t=>t.PostsComponent)},{path:"settings",pathMatch:"full",loadComponent:()=>import("./chunk-S72V62CS.js").then(t=>t.SettingsComponent)},{path:"profile",pathMatch:"full",loadComponent:()=>import("./chunk-BABFTS66.js").then(t=>t.ProfileComponent)}]},{path:"",component:Ge,loadChildren:()=>[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",pathMatch:"full",loadComponent:()=>import("./chunk-J4XUNOPZ.js").then(t=>t.LoginFormComponent)},{path:"register-user",pathMatch:"full",loadComponent:()=>import("./chunk-3ITFEIS4.js").then(t=>t.CreateUserComponent)},{path:"forgot-password",pathMatch:"full",loadComponent:()=>import("./chunk-QDNJKIXB.js").then(t=>t.ForgotPasswordComponent)}]},{path:"**",component:Mr}];var Lr={providers:[Yt(Nr),xt(Mt),Rr(),Zt(Cr,{metaReducers:br}),Xt($r,Or,kr),Ir({maxAge:25,logOnly:!0,autoPause:!0,trace:!1,traceLimit:75,connectInZone:!0})]};Nt(Ge,Lr).catch(t=>console.error(t));
