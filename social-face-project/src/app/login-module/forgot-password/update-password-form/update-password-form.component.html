<form [formGroup]="formGroup" class="form update-password-form-container" (ngSubmit)="onSubmit()" data-update-password-form="">
    @if (isLoading()) {
        <mat-spinner  data-spinner=""></mat-spinner>
    } @else {
        <div class="form-group">
            <mat-form-field>
                <mat-label aria-label="New Password">New Password</mat-label>
                <input type="password" matInput aria-placeholder="enter new password" placeholder="Enter new password" [formControl]="newPassword" data-new-password-field="">
                @if (newPassword.hasError('required')) {
                    <mat-error data-validate-email-error-field="">New password is required</mat-error>
                }
                @if (newPassword.hasError('pattern')) {
                    <mat-error data-validate-email-error-field="">New password is invalid</mat-error>
                }
            </mat-form-field>
            <mat-form-field>
                <mat-label aria-label="Confirm Password">Confirm Password</mat-label>
                <input type="password" matInput aria-placeholder="enter new password" placeholder="Enter your new password to confirm" [formControl]="confirmPassword" data-confirm-password-field="">
                @if (confirmPassword.hasError('required')) {
                    <mat-error data-validate-email-error-field="">Password is required</mat-error>
                }
                @if (!passwordMatches) {
                    <mat-error data-validate-email-error-field="">Email is invalid</mat-error>
                }
            </mat-form-field>
        </div>
        <button class="update-password-btn" mat-flat-button color="primary" [disabled]="!formGroup.valid && !passwordMatches" type="submit" data-validate-email-btn="">Update Password</button>
    }
</form>