import{a as se,b as pe}from"./chunk-CYLURVU2.js";import{a as I,e as k,f as G,g as A,o as L,p as v}from"./chunk-KBMGLM7F.js";import{A as re,B as ie,C as ae,D as ne,L as oe,M as me,N as le,a as V,b as s,c as j,d as Q,e as $,f,g as z,h as H,i as J,k as K,r as W,v as X,w as Y,x as Z,y as ee,z as te}from"./chunk-EE7E52Q5.js";import{h as B,j as R}from"./chunk-JSOPZ2Y7.js";import"./chunk-JGYM447R.js";import{$b as P,Aa as g,Ba as w,Cb as d,Gb as i,Gc as D,H as E,Hb as e,Hc as T,Ib as u,Kb as y,Nb as x,Tb as M,Ub as U,Vb as N,Xb as a,ac as q,cb as n,db as C,dc as F,ec as O,qa as S,s as b,vb as c,xb as m}from"./chunk-7USMCEWK.js";var de=["createUserStepper"],ce=()=>["/login"];function ue(t,o){t&1&&(i(0,"mat-error",8),a(1,"Username is required"),e())}function fe(t,o){t&1&&(i(0,"mat-error",11),a(1,"Password is required"),e())}function he(t,o){t&1&&(i(0,"mat-error",11),a(1,"Password must be at least 8 characters"),e())}function Ce(t,o){t&1&&(i(0,"mat-error",11),a(1," Password must contain at least one number and one uppercase letter "),e())}function be(t,o){t&1&&(i(0,"mat-error",14),a(1,"Email is required"),e())}function Ee(t,o){t&1&&(i(0,"mat-error",14),a(1,"Email is invalid"),e())}function ve(t,o){t&1&&(i(0,"mat-error",17),a(1,"First Name is required"),e())}function _e(t,o){t&1&&(i(0,"mat-error",20),a(1,"Last Name is required"),e())}function Se(t,o){t&1&&(i(0,"mat-error",23),a(1,"Date of Birth is required"),e())}function ge(t,o){t&1&&u(0,"mat-spinner",27)}function we(t,o){t&1&&(i(0,"button",31),a(1," Next "),e())}var $e=(()=>{let o=class o{constructor(p,l,r,h){this.breakpointObserver=p,this.actions$=l,this.snackbarService=r,this.store=h,this.email=new f("",[s.required,s.email]),this.firstName=new f("",s.required),this.lastName=new f("",s.required),this.password=new f("",[s.required,s.minLength(8),s.pattern(se)]),this.username=new f("",s.required),this.birthDate=new f("",s.required),this.notificationPreference=new f("1"),this.isLoading=!1,this.createAccountFormGroup=new $({email:this.email,firstName:this.firstName,lastName:this.lastName,password:this.password,username:this.username,birthDate:this.birthDate,notificationPreference:this.notificationPreference}),this.stepperOrientation=p.observe("(min-width: 800px)").pipe(b(({matches:_})=>_?"horizontal":"vertical"))}ngOnInit(){this.handleUserCreationError().subscribe(),this.handleUserCreationSuccess().subscribe()}onSubmit(){if(this.createAccountFormGroup.valid){let p={email:this.email.value,firstName:this.firstName.value,lastName:this.lastName.value,password:this.password.value,username:this.username.value,birthDate:this.birthDate.value,notificationPreference:this.notificationPreference.value};this.store.dispatch(k({userData:p}))}}handleUserCreationError(){return this.actions$.pipe(v(A),E(1),b(p=>{let{error:l}=p;this.snackbarService.openSnackBar(l.message)}))}handleUserCreationSuccess(){return this.actions$.pipe(v(G),E(1),b(()=>{this.createUserStepper&&this.createUserStepper.next()}))}};o.\u0275fac=function(l){return new(l||o)(C(W),C(L),C(pe),C(I))},o.\u0275cmp=S({type:o,selectors:[["app-create-user"]],viewQuery:function(l,r){if(l&1&&M(de,5),l&2){let h;U(h=N())&&(r.createUserStepper=h.first)}},standalone:!0,features:[P],decls:53,vars:22,consts:[["createUserStepper",""],["data-create-user-container","",1,"create-user-container"],["linear","","data-create-user-stepper","",1,"user-creation-stepper",3,"orientation"],["label","Fill information for account creation",3,"stepControl"],["data-create-user-form","",3,"ngSubmit","formGroup"],[1,"form-group-container"],["aria-label","Enter username"],["type","text","matInput","","placeholder","Enter your username","data-username-field","",3,"formControl"],["data-username-error-field",""],["aria-label","Enter password"],["type","password","matInput","","placeholder","Enter your password","data-password-field","",3,"formControl"],["data-password-error-field",""],["aria-label","Enter email"],["type","email","matInput","","placeholder","Enter your email","data-email-field","",3,"formControl"],["data-email-error-field",""],["aria-label","Enter first name"],["type","text","matInput","","placeholder","Enter your first name","data-first-name-field","",3,"formControl"],["data-first-name-error",""],["aria-label","Enter last name"],["type","text","matInput","","placeholder","Enter your last name","data-last-name-field","",3,"formControl"],["data-last-name-error-field",""],["aria-label","Enter date of birth"],["type","date","matInput","","placeholder","Enter your date of birth","data-birth-date-field","",3,"formControl"],["data-birth-date-error-field",""],["aria-label","Select notification preference",3,"formControl"],["data-notification-email-field","","value","1"],["data-notification-browser-field","","value","2"],["data-spinner",""],["label","Done!"],["data-account-created-title","",1,"account-created-title"],["aria-label","Go to login page button","mat-button","","data-navigate-login-button","",3,"routerLink"],["aria-label","Navigate to next step","type","submit","mat-flat-button","","color","primary","data-next-button",""]],template:function(l,r){if(l&1){let h=y();i(0,"section",1)(1,"mat-stepper",2,0),F(3,"async"),i(4,"mat-step",3)(5,"form",4),x("ngSubmit",function(){return g(h),w(r.onSubmit())}),i(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),a(9,"Username"),e(),u(10,"input",7),c(11,ue,2,0,"mat-error",8),e(),i(12,"mat-form-field",9)(13,"mat-label"),a(14,"Password"),e(),u(15,"input",10),c(16,fe,2,0,"mat-error",11)(17,he,2,0,"mat-error",11)(18,Ce,2,0),e(),i(19,"mat-form-field",12)(20,"mat-label"),a(21,"Email"),e(),u(22,"input",13),c(23,be,2,0,"mat-error",14)(24,Ee,2,0),e(),i(25,"mat-form-field",15)(26,"mat-label"),a(27,"First Name"),e(),u(28,"input",16),c(29,ve,2,0,"mat-error",17),e(),i(30,"mat-form-field",18)(31,"mat-label"),a(32,"Last Name"),e(),u(33,"input",19),c(34,_e,2,0,"mat-error",20),e(),i(35,"mat-form-field",21)(36,"mat-label"),a(37,"Date of Birth"),e(),u(38,"input",22),c(39,Se,2,0,"mat-error",23),e(),i(40,"mat-radio-group",24)(41,"mat-radio-button",25),a(42,"Email Notifications"),e(),i(43,"mat-radio-button",26),a(44,"Browser Notifications"),e()()(),i(45,"div"),c(46,ge,1,0,"mat-spinner",27)(47,we,2,0),e()()(),i(48,"mat-step",28)(49,"h2",29),a(50," Account Created! "),e(),i(51,"a",30),a(52," Click here to navigate back to login screen. "),e()()()()}l&2&&(n(),m("orientation",O(3,19,r.stepperOrientation)),n(3),m("stepControl",r.createAccountFormGroup),n(),m("formGroup",r.createAccountFormGroup),n(5),m("formControl",r.username),n(),d(11,r.username.hasError("required")?11:-1),n(4),m("formControl",r.password),n(),d(16,r.password.hasError("required")?16:-1),n(),d(17,r.password.hasError("minlength")?17:r.password.hasError("pattern")?18:-1),n(5),m("formControl",r.email),n(),d(23,r.email.hasError("required")?23:r.email.hasError("pattern")?24:-1),n(5),m("formControl",r.firstName),n(),d(29,r.firstName.hasError("required")?29:-1),n(4),m("formControl",r.lastName),n(),d(34,r.lastName.hasError("required")?34:-1),n(4),m("formControl",r.birthDate),n(),d(39,r.birthDate.hasError("required")?39:-1),n(),m("formControl",r.notificationPreference),n(6),d(46,r.isLoading?46:47),n(5),m("routerLink",q(21,ce)))},dependencies:[K,z,V,j,Q,H,J,le,te,Z,ee,re,Y,X,oe,me,ie,ae,ne,D,R,B,T],styles:[".create-user-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;height:360px;justify-content:center;width:100%}.create-user-container[_ngcontent-%COMP%]   .user-creation-stepper[_ngcontent-%COMP%]{width:60%}.create-user-container[_ngcontent-%COMP%]   .form-group-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px;justify-content:space-around}.create-user-container[_ngcontent-%COMP%]   .account-created-title[_ngcontent-%COMP%]{color:#fff;margin-left:9px}@media screen and (max-width: 768px){.create-user-container[_ngcontent-%COMP%]   .user-creation-stepper[_ngcontent-%COMP%]{width:90%}.create-user-container[_ngcontent-%COMP%]   .form-group-container[_ngcontent-%COMP%]{gap:20px}.create-user-container[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:80%}}"]});let t=o;return t})();export{$e as CreateUserComponent};
